<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual T√©cnico-Institucional - CheckInfra</title>
    
    <!-- Meta tags de SEO -->
    <meta name="description" content="Sistema Integrado de Diagn√≥stico Sanit√°rio Escolar - Memorial Descritivo, Metodologia Completa e Guia Institucional de Uso">
    <meta name="keywords" content="infraestrutura escolar, saneamento, diagn√≥stico t√©cnico, engenharia civil, gest√£o p√∫blica, manuten√ß√£o predial, ABNT, normas t√©cnicas">
    <meta name="author" content="CheckInfra">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="Manual T√©cnico-Institucional CheckInfra">
    <meta property="og:description" content="Sistema Integrado de Diagn√≥stico Sanit√°rio Escolar - Memorial Descritivo Completo">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://checkinfra.example.com/manual">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Manual T√©cnico-Institucional CheckInfra">
    <meta name="twitter:description" content="Sistema Integrado de Diagn√≥stico Sanit√°rio Escolar">
    
    <!-- Preload para performance -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <style>
        :root {
            --primary: #1f4fd8;
            --primary-dark: #163ca6;
            --secondary: #2e7d32;
            --warning: #f57c00;
            --danger: #d32f2f;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --border: #dee2e6;
            --ok: #4CAF50;
            --alerta: #FFD700;
            --atencao: #FF9800;
            --critico: #F44336;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, #f5f7fa 0%, #e3e8f7 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0 8px 25px rgba(31, 79, 216, 0.3);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.3;
            animation: float 20s linear infinite;
        }
        
        @keyframes float {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header-container {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            text-decoration: none;
            z-index: 100;
        }
        
        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            position: relative;
            padding: 0 60px;
        }
        
        header .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 900px;
            margin: 0 auto;
            font-weight: 300;
            position: relative;
        }
        
        .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 10px;
            backdrop-filter: blur(5px);
        }
        
        /* BARRA DE BUSCA */
        .search-container {
            margin: 20px 0;
            position: relative;
        }
        
        .search-box {
            width: 100%;
            padding: 15px 20px;
            padding-left: 50px;
            border: 2px solid var(--primary);
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            box-shadow: 0 4px 15px rgba(31, 79, 216, 0.1);
            transition: all 0.3s ease;
        }
        
        .search-box:focus {
            outline: none;
            border-color: var(--primary-dark);
            box-shadow: 0 6px 20px rgba(31, 79, 216, 0.2);
        }
        
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .search-results {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-top: 5px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .search-result-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .search-result-item:hover {
            background: #f8f9fa;
        }
        
        .search-result-item h4 {
            color: var(--primary);
            margin-bottom: 5px;
            font-size: 1rem;
        }
        
        .search-result-item p {
            font-size: 0.9rem;
            color: var(--gray);
            margin: 0;
        }
        
        /* NAVEGA√á√ÉO */
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            position: sticky;
            top: 20px;
            z-index: 1000;
            border: 1px solid rgba(31, 79, 216, 0.1);
        }
        
        .tab-btn {
            padding: 14px 28px;
            background: white;
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .tab-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 5px 15px rgba(31, 79, 216, 0.2);
        }
        
        .tab-btn.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 5px 20px rgba(31, 79, 216, 0.4);
        }
        
        /* SE√á√ïES */
        .tab-content {
            display: none;
            background: white;
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 3rem;
            animation: fadeIn 0.5s ease;
            border: 1px solid rgba(31, 79, 216, 0.1);
            position: relative;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content h2 {
            color: var(--primary);
            margin-bottom: 2rem;
            font-size: 2rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }
        
        /* BOT√ÉO DE FAVORITO */
        .bookmark-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            padding: 5px;
            margin-left: auto;
        }
        
        .bookmark-btn:hover {
            color: var(--warning);
        }
        
        .bookmark-btn.active {
            color: var(--warning);
        }
        
        .bookmark-btn i {
            pointer-events: none;
        }
        
        /* ESTILOS DA METODOLOGIA INTEGRADA */
        .methodology-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8faff 100%);
            border-left: 5px solid var(--primary);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .methodology-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .methodology-card h3 {
            color: var(--primary);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4rem;
        }
        
        /* EQUA√á√ïES */
        .equacao {
            background: #f1f4ff;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            text-align: center;
            color: var(--primary-dark);
            border: 2px solid #e6e9ff;
            box-shadow: 0 4px 15px rgba(31, 79, 216, 0.1);
            position: relative;
        }
        
        .equacao::before {
            content: 'F√ìRMULA';
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.7rem;
            color: var(--primary);
            opacity: 0.5;
            font-weight: bold;
        }
        
        /* CLASSIFICA√á√ÉO */
        .classificacao li {
            list-style: none;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .verde { 
            background: linear-gradient(135deg, #e8f7ee 0%, #d4edda 100%);
            color: #155724;
            border-left: 4px solid var(--ok);
        }
        .amarelo { 
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            color: #856404;
            border-left: 4px solid var(--alerta);
        }
        .laranja { 
            background: linear-gradient(135deg, #ffe5d0 0%, #ffd8b2 100%);
            color: #b35a00;
            border-left: 4px solid var(--atencao);
        }
        .vermelho { 
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            border-left: 4px solid var(--critico);
        }
        
        /* ACCORDION */
        .accordion-item {
            border-top: 1px solid var(--border);
            margin-top: 1rem;
        }
        
        .accordion-header {
            width: 100%;
            background: none;
            border: none;
            padding: 1rem 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary);
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .accordion-header:hover {
            opacity: 0.8;
            padding-left: 10px;
        }
        
        .accordion-header span {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .accordion-header.active span {
            transform: rotate(90deg);
        }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease;
        }
        
        .accordion-content p,
        .accordion-content ul {
            margin-top: 1rem;
        }
        
        /* REFER√äNCIAS */
        .reference-item {
            background: white;
            border-left: 4px solid var(--secondary);
            padding: 1.2rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .reference-item .authors {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .reference-item .title {
            font-style: italic;
            color: var(--gray);
            margin-bottom: 0.5rem;
        }
        
        /* IMPACTO MICRO/MACRO */
        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .impact-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        
        .impact-card h4 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* FLUXO DE DECIS√ÉO */
        .decision-flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
        }
        
        .flow-step {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 2px solid var(--border);
            position: relative;
        }
        
        .flow-step::after {
            content: '‚Üì';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .flow-step:last-child::after {
            display: none;
        }
        
        /* MODAL DE VERS√ïES */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 2.5rem;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
        }
        
        .modal-close:hover {
            color: var(--danger);
        }
        
        /* OP√á√ïES DE EXPORTA√á√ÉO */
        .export-options {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .export-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--dark);
        }
        
        .export-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
        }
        
        /* FOOTER */
        footer {
            text-align: center;
            padding: 2.5rem;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            margin-top: 4rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            opacity: 1;
            transform: translateY(-2px);
        }
        
        /* RESPONSIVIDADE */
        @media (max-width: 992px) {
            .container {
                padding: 15px;
            }
            
            header h1 {
                font-size: 2.2rem;
                padding: 0 50px;
            }
            
            .back-button {
                width: 45px;
                height: 45px;
            }
            
            .nav-tabs {
                flex-direction: column;
                position: static;
            }
            
            .tab-btn {
                width: 100%;
                justify-content: center;
            }
            
            .impact-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8rem;
                padding: 0 40px;
            }
            
            .back-button {
                width: 40px;
                height: 40px;
                left: 15px;
            }
        }
        
        @media (max-width: 576px) {
            header h1 {
                font-size: 1.6rem;
                padding: 0 35px;
            }
            
            .back-button {
                width: 35px;
                height: 35px;
                left: 10px;
            }
            
            .tab-content {
                padding: 1.5rem;
            }
            
            .methodology-card {
                padding: 1.5rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
            
            .export-options {
                flex-direction: column;
            }
            
            .export-btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* UTILIT√ÅRIOS */
        .info-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .warning-box {
            background: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .success-box {
            background: #e8f5e9;
            border-left: 5px solid #4caf50;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .danger-box {
            background: #ffebee;
            border-left: 5px solid #f44336;
            padding: 1.2rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            font-size: 0.95rem;
        }
        
        .highlight {
            background: linear-gradient(120deg, rgba(31, 79, 216, 0.15) 0%, rgba(31, 79, 216, 0.05) 100%);
            padding: 0.3rem 0.7rem;
            border-radius: 6px;
            font-weight: 700;
            color: var(--primary);
        }
        
        /* BADGES DE STATUS */
        .status-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 700;
            margin: 3px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-ok { 
            background: linear-gradient(135deg, var(--ok) 0%, #388E3C 100%);
            color: white;
        }
        .status-alert { 
            background: linear-gradient(135deg, var(--alerta) 0%, #FBC02D 100%);
            color: #5D4037;
        }
        .status-atencao { 
            background: linear-gradient(135deg, var(--atencao) 0%, #EF6C00 100%);
            color: white;
        }
        .status-critical { 
            background: linear-gradient(135deg, var(--critico) 0%, #C62828 100%);
            color: white;
        }
        
        /* BOT√ÉO VOLTAR AO TOPO */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(31, 79, 216, 0.4);
            z-index: 1000;
            transition: all 0.3s;
        }
        
        .back-to-top:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(31, 79, 216, 0.6);
        }
        
        /* SCROLLBAR PERSONALIZADA */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #102a7a 100%);
        }
        
        /* ESTILOS DE IMPRESS√ÉO */
        @media print {
            .nav-tabs,
            footer,
            .back-button,
            .search-container,
            .export-options,
            .back-to-top,
            .bookmark-btn {
                display: none !important;
            }
            
            .tab-content {
                display: block !important;
                box-shadow: none;
                border: 1px solid #ddd;
                margin: 0;
                page-break-inside: avoid;
            }
            
            header {
                box-shadow: none;
                border-radius: 0;
            }
            
            body {
                background: white;
                font-size: 12pt;
            }
            
            .methodology-card {
                box-shadow: none;
                border: 1px solid #eee;
                page-break-inside: avoid;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- HEADER COM SETA VOLTAR -->
    <header>
        <div class="header-container">
            <a href="./index.html" class="back-button" aria-label="Voltar para a p√°gina inicial">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1><i class="fas fa-book-open"></i> Manual T√©cnico-Institucional CheckInfra</h1>
            <p class="subtitle">
                Sistema Integrado de Diagn√≥stico Sanit√°rio Escolar - Memorial Descritivo, 
                Metodologia Completa e Guia Institucional de Uso
            </p>
            <div class="version-badge">
                <i class="fas fa-code-branch"></i> Documento T√©cnico v3.0 | Baseado na an√°lise de 28 arquivos do sistema
            </div>
        </div>
    </header>

    <!-- CONTAINER PRINCIPAL -->
    <div class="container">
        <!-- BARRA DE BUSCA -->
        <div class="search-container">
            <div class="search-icon">
                <i class="fas fa-search"></i>
            </div>
            <input type="text" 
                   class="search-box" 
                   id="manual-search" 
                   placeholder="Buscar no manual (digite pelo menos 3 caracteres)..."
                   aria-label="Campo de busca no manual">
            <div class="search-results" id="search-results"></div>
        </div>

        <!-- OP√á√ïES DE EXPORTA√á√ÉO -->
        <div class="export-options">
            <button class="export-btn" onclick="exportAsPDF()">
                <i class="fas fa-file-pdf"></i> Exportar PDF
            </button>
            <button class="export-btn" onclick="showVersionHistory()">
                <i class="fas fa-history"></i> Hist√≥rico de Vers√µes
            </button>
            <button class="export-btn" onclick="toggleBookmarksView()">
                <i class="fas fa-bookmark"></i> Meus Favoritos
            </button>
            <button class="export-btn" onclick="printManual()">
                <i class="fas fa-print"></i> Imprimir Manual
            </button>
        </div>

        <!-- NAVEGA√á√ÉO POR ABAS -->
        <div class="nav-tabs" role="tablist" aria-label="Navega√ß√£o do manual">
            <button class="tab-btn active" data-tab="apresentacao" role="tab" aria-selected="true" aria-controls="apresentacao">
                <i class="fas fa-home"></i> Apresenta√ß√£o
            </button>
            <button class="tab-btn" data-tab="aspectos-gerais" role="tab" aria-selected="false" aria-controls="aspectos-gerais">
                <i class="fas fa-clipboard-list"></i> Aspectos Gerais
            </button>
            <button class="tab-btn" data-tab="metodologia" role="tab" aria-selected="false" aria-controls="metodologia">
                <i class="fas fa-ruler-combined"></i> Metodologia T√©cnica
            </button>
            <button class="tab-btn" data-tab="sistema" role="tab" aria-selected="false" aria-controls="sistema">
                <i class="fas fa-sitemap"></i> Sistema CheckInfra
            </button>
            <button class="tab-btn" data-tab="impacto" role="tab" aria-selected="false" aria-controls="impacto">
                <i class="fas fa-chart-network"></i> Impacto Institucional
            </button>
            <button class="tab-btn" data-tab="referencias" role="tab" aria-selected="false" aria-controls="referencias">
                <i class="fas fa-graduation-cap"></i> Refer√™ncias
            </button>
            <button class="tab-btn" data-tab="manual-usuario" role="tab" aria-selected="false" aria-controls="manual-usuario">
                <i class="fas fa-users"></i> Manual do Usu√°rio
            </button>
            <button class="tab-btn" data-tab="arquitetura-tecnica" role="tab" aria-selected="false" aria-controls="arquitetura-tecnica">
                <i class="fas fa-code"></i> Arquitetura T√©cnica
            </button>
            <button class="tab-btn" data-tab="recomendacoes" role="tab" aria-selected="false" aria-controls="recomendacoes">
                <i class="fas fa-tools"></i> Recomenda√ß√µes T√©cnicas
            </button>
        </div>

        <!-- CONTE√öDO DAS ABAS -->
        
        <!-- ABA 1: APRESENTA√á√ÉO -->
        <div id="apresentacao" class="tab-content active" role="tabpanel" aria-labelledby="apresentacao-tab">
            <h2><i class="fas fa-bullseye"></i> Apresenta√ß√£o Institucional
                <button class="bookmark-btn" data-section="apresentacao" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-university"></i> O que √© o CheckInfra</h3>
                <p>
                    O <span class="highlight">CheckInfra</span> √© uma <strong>plataforma digital integrada</strong> desenvolvida no √¢mbito 
                    acad√™mico da Engenharia Civil, com o prop√≥sito de oferecer um 
                    <strong>sistema estruturado de diagn√≥stico sanit√°rio para banheiros escolares</strong>.
                </p>
                <p>
                    Mais do que um software, o CheckInfra representa uma <strong>metodologia t√©cnica padronizada</strong> 
                    para leitura, registro, an√°lise e prioriza√ß√£o das condi√ß√µes sanit√°rias em ambientes 
                    educacionais, com fundamenta√ß√£o em normas t√©cnicas nacionais e internacionais.
                </p>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-compass"></i> Objetivo Institucional</h3>
                <p>
                    O sistema foi concebido para <strong>apoiar a gest√£o p√∫blica da infraestrutura educacional</strong>, 
                    transformando observa√ß√µes de campo em dados estruturados que permitem:
                </p>
                <ul>
                    <li>Diagn√≥stico t√©cnico padronizado das condi√ß√µes sanit√°rias</li>
                    <li>Prioriza√ß√£o baseada em crit√©rios t√©cnicos multicrit√©rio</li>
                    <li>Monitoramento temporal da evolu√ß√£o das condi√ß√µes</li>
                    <li>Identifica√ß√£o de padr√µes territoriais de fragilidade</li>
                    <li>Otimiza√ß√£o de recursos p√∫blicos atrav√©s de an√°lise racional</li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-balance-scale"></i> Princ√≠pios Fundamentais</h3>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-eye"></i> Transpar√™ncia T√©cnica</h4>
                        <p>Todos os c√°lculos, f√≥rmulas e crit√©rios s√£o p√∫blicos e audit√°veis</p>
                    </div>
                    <div class="impact-card">
                        <h4><i class="fas fa-chart-line"></i> Decis√£o Informada</h4>
                        <p>Suporte a decis√µes baseadas em evid√™ncias t√©cnicas quantific√°veis</p>
                    </div>
                    <div class="impact-card">
                        <h4><i class="fas fa-map-marked-alt"></i> Justi√ßa Territorial</h4>
                        <p>Considera√ß√£o das desigualdades espaciais na aloca√ß√£o de recursos</p>
                    </div>
                    <div class="impact-card">
                        <h4><i class="fas fa-history"></i> Continuidade</h4>
                        <p>Sistema permite acompanhamento longitudinal das condi√ß√µes</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-exclamation-triangle"></i> Natureza do Sistema</h3>
                
                <div class="warning-box">
                    <strong><i class="fas fa-info-circle"></i> IMPORTANTE:</strong> O CheckInfra √© um 
                    <strong>instrumento de apoio √† gest√£o e √† tomada de decis√£o</strong>. 
                    <strong>N√£o substitui</strong> vistorias t√©cnicas presenciais, laudos de engenharia, 
                    pareceres periciais ou inspe√ß√µes oficiais exigidas por normas legais.
                </div>
                
                <p>
                    O sistema atua como uma <strong>ferramenta de triagem e prioriza√ß√£o</strong>, 
                    permitindo que gestores identifiquem onde as inspe√ß√µes t√©cnicas detalhadas 
                    s√£o mais urgentemente necess√°rias.
                </p>
            </div>
        </div>

        <!-- ABA 2: ASPECTOS GERAIS (INTEGRADA) -->
        <div id="aspectos-gerais" class="tab-content" role="tabpanel" aria-labelledby="aspectos-gerais-tab">
            <h2><i class="fas fa-clipboard-check"></i> Aspectos Gerais da Metodologia
                <button class="bookmark-btn" data-section="aspectos-gerais" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-bullseye"></i> 1. Objetivo da Metodologia</h3>
                <p>
                    A metodologia do CheckInfra foi desenvolvida no campo da Engenharia Civil
                    como um <strong>instrumento estruturado de diagn√≥stico e prioriza√ß√£o</strong>
                    das condi√ß√µes sanit√°rias de banheiros escolares, visando apoiar a tomada
                    de decis√£o na gest√£o p√∫blica.
                </p>
                <p>
                    O m√©todo permite identificar riscos, comparar unidades e orientar
                    interven√ß√µes, sem substituir inspe√ß√µes prediais formais ou projetos t√©cnicos.
                </p>
                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Fundamenta√ß√£o geral:</strong> ABNT NBR 15575, ISO 31000
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-list-check"></i> 2. Metodologia do Checklist T√©cnico</h3>
                <p>
                    O checklist do CheckInfra √© baseado em <strong>avalia√ß√£o observacional estruturada</strong>,
                    m√©todo amplamente utilizado em inspe√ß√µes preliminares, manuten√ß√£o predial
                    e vigil√¢ncia sanit√°ria.
                </p>
                <p>
                    Cada item representa uma condi√ß√£o que, segundo normas t√©cnicas,
                    compromete a seguran√ßa, a salubridade ou o desempenho da edifica√ß√£o.
                </p>

                <h4>L√≥gica de Pontua√ß√£o</h4>
                <ul>
                    <li>Pesos maiores indicam maior risco t√©cnico ou sanit√°rio</li>
                    <li>A soma gera a pontua√ß√£o bruta da unidade</li>
                </ul>

                <p>
                    O checklist fornece o <strong>estado atual</strong> da unidade.
                    J√° o IPT (ver se√ß√£o 4) transforma esse diagn√≥stico em
                    <strong>prioriza√ß√£o comparativa</strong>.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Inspirado em:</strong> ABNT NBR 15575, ABNT NBR 5674, FUNASA ‚Äì Manual de Saneamento
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-sort-amount-down"></i> 3. Classifica√ß√£o da Infraestrutura Sanit√°ria</h3>
                <p>
                    A classifica√ß√£o sanit√°ria traduz a pontua√ß√£o do checklist
                    em faixas interpret√°veis, pr√°tica comum em engenharia de manuten√ß√£o
                    e avalia√ß√£o de desempenho.
                </p>

                <ul class="classificacao">
                    <li class="verde">üü¢ 0‚Äì3 pontos ‚Äî <strong>Condi√ß√£o adequada</strong></li>
                    <li class="amarelo">üü° 4‚Äì6 pontos ‚Äî <strong>Situa√ß√£o de alerta</strong></li>
                    <li class="laranja">üü† 7‚Äì8 pontos ‚Äî <strong>Aten√ß√£o elevada</strong></li>
                    <li class="vermelho">üî¥ ‚â• 9 pontos ‚Äî <strong>Condi√ß√£o cr√≠tica</strong></li>
                </ul>

                <p>
                    Essa estrutura √© coerente com abordagens de classifica√ß√£o por n√≠veis de risco
                    utilizadas em normas de desempenho e manuten√ß√£o predial.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncia:</strong> ABNT NBR 15575, ABNT NBR 5674
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-calculator"></i> 4. √çndice de Prioridade T√©cnica (IPT)</h3>
                <p>
                    O IPT √© um <strong>indicador de an√°lise multicrit√©rio</strong>, isto √©,
                    um √≠ndice que combina diferentes crit√©rios t√©cnicos em um √∫nico valor
                    para apoiar decis√µes complexas.
                </p>

                <p>
                    A an√°lise multicrit√©rio √© amplamente utilizada em engenharia,
                    planejamento urbano e pol√≠ticas p√∫blicas quando m√∫ltiplos fatores
                    precisam ser ponderados simultaneamente.
                </p>

                <h4>Componentes</h4>
                <ul>
                    <li><strong>GS</strong> ‚Äî Gravidade sanit√°ria (status)</li>
                    <li><strong>IT</strong> ‚Äî Intensidade t√©cnica (pontua√ß√£o)</li>
                    <li><strong>RT</strong> ‚Äî Recorr√™ncia temporal (persist√™ncia)</li>
                </ul>

                <div class="equacao">
                    IPT = (GS √ó 0,4) + (IT √ó 0,4) + (RT √ó 0,2)
                </div>

                <p>
                    <strong>Exemplo:</strong> uma escola em status cr√≠tico recente pode ter IPT
                    menor que outra em status de alerta, mas com problemas recorrentes
                    h√° v√°rios meses.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncias:</strong> ISO 31000, Saaty (AHP), literatura de an√°lise multicrit√©rio
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-chart-bar"></i> 5. IPT M√©dio</h3>
                <p>
                    O IPT m√©dio representa o <strong>n√≠vel m√©dio de criticidade t√©cnica</strong>
                    de um conjunto de unidades.
                </p>

                <div class="equacao">
                    IPT m√©dio = Œ£(IPT·µ¢) / n
                </div>

                <p>
                    Ele permite comparar territ√≥rios, acompanhar evolu√ß√£o temporal
                    e avaliar o impacto de pol√≠ticas de manuten√ß√£o.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncia:</strong> indicadores agregados em gest√£o de ativos e planejamento p√∫blico
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-braille"></i> 6. Densidade Cr√≠tica</h3>
                <p>
                    A densidade cr√≠tica mede quantas unidades cr√≠ticas existem
                    em determinada √°rea territorial.
                </p>

                <div class="equacao">
                    Densidade Cr√≠tica = N¬∫ de unidades cr√≠ticas / √Årea
                </div>

                <p>
                    <strong>Exemplo:</strong> dois bairros podem ter o mesmo n√∫mero
                    de escolas cr√≠ticas, mas o menor apresentar√° maior densidade cr√≠tica.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncia:</strong> an√°lise espacial, sa√∫de p√∫blica e planejamento urbano
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-chart-pie"></i> 7. Concentra√ß√£o Relativa</h3>
                <p>
                    A concentra√ß√£o relativa compara a propor√ß√£o de unidades cr√≠ticas
                    de um territ√≥rio com a m√©dia geral da cidade.
                </p>

                <div class="equacao">
                    CR = (Cr√≠ticas no territ√≥rio / Total no territ√≥rio) √∑
                         (Cr√≠ticas totais / Total geral)
                </div>

                <p>
                    Valores acima de 1 indicam concentra√ß√£o acima da m√©dia,
                    sugerindo desigualdade territorial.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncia:</strong> indicadores de desigualdade espacial
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-draw-polygon"></i> 8. Zonas Priorit√°rias</h3>
                <p>
                    As zonas priorit√°rias resultam da combina√ß√£o de:
                    IPT, densidade cr√≠tica e concentra√ß√£o relativa.
                </p>

                <p>
                    Elas indicam territ√≥rios onde problemas s√£o
                    <strong>numerosos, concentrados e recorrentes</strong>,
                    orientando a√ß√µes integradas.
                </p>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncia:</strong> planejamento territorial e gest√£o integrada de riscos
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-chart-line"></i> 9. An√°lise de Pareto</h3>

                <p>
                    A An√°lise de Pareto √© uma metodologia utilizada para identificar
                    <strong>quais poucos fatores concentram a maior parte dos problemas</strong>.
                    √â amplamente aplicada em engenharia, gest√£o da qualidade e pol√≠ticas p√∫blicas
                    para apoiar decis√µes quando os recursos s√£o limitados.
                </p>

                <p>
                    No CheckInfra, a an√°lise de Pareto funciona como uma
                    <strong>ferramenta de prioriza√ß√£o t√©cnica</strong>,
                    ajudando a responder √† pergunta:
                    <em>por onde come√ßar para gerar maior impacto?</em>
                </p>

                <!-- ACCORDION PARETO -->
                <div class="accordion-item">
                    <button class="accordion-header">
                        O que √© o Princ√≠pio de Pareto (80/20)?
                        <span>‚Ä∫</span>
                    </button>
                    <div class="accordion-content">
                        <p>
                            O Princ√≠pio de Pareto parte da observa√ß√£o de que, em muitos sistemas,
                            cerca de <strong>20% das causas s√£o respons√°veis por aproximadamente 80% dos efeitos</strong>.
                        </p>

                        <p>
                            Esse padr√£o foi identificado pelo economista Vilfredo Pareto
                            ao estudar a distribui√ß√£o de renda e posteriormente validado
                            em diversas √°reas da engenharia e da administra√ß√£o.
                        </p>

                        <p>
                            Na pr√°tica, isso significa que nem todos os problemas
                            possuem o mesmo peso ou impacto.
                        </p>

                        <div class="info-box">
                            <strong><i class="fas fa-book"></i> Refer√™ncias:</strong> Juran (Quality Control Handbook), Montgomery (Statistical Quality Control)
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        Como a An√°lise de Pareto funciona?
                        <span>‚Ä∫</span>
                    </button>
                    <div class="accordion-content">
                        <p>A metodologia segue uma l√≥gica simples:</p>

                        <ul>
                            <li>listar os problemas ou unidades avaliadas</li>
                            <li>quantificar seu impacto (frequ√™ncia, gravidade ou pontua√ß√£o)</li>
                            <li>ordenar do maior para o menor impacto</li>
                            <li>analisar o impacto acumulado</li>
                        </ul>

                        <p>
                            O objetivo n√£o √© ignorar os demais problemas,
                            mas definir uma <strong>ordem racional de atua√ß√£o</strong>.
                        </p>
                    </div>
                </div>

                <div class="info-box">
                    <strong><i class="fas fa-book"></i> Refer√™ncias:</strong> JURAN (Quality Control Handbook), ISO 9001, ISO 31000
                </div>
            </div>
        </div>

        <!-- ABA 3: METODOLOGIA T√âCNICA DETALHADA -->
        <div id="metodologia" class="tab-content" role="tabpanel" aria-labelledby="metodologia-tab">
            <h2><i class="fas fa-microscope"></i> Metodologia T√©cnica Detalhada
                <button class="bookmark-btn" data-section="metodologia" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-cogs"></i> 1. Fundamenta√ß√£o Normativa do Checklist</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Dimens√£o T√©cnica</th>
                            <th style="padding: 1rem; text-align: left;">Itens Avaliados</th>
                            <th style="padding: 1rem; text-align: left;">Peso T√©cnico</th>
                            <th style="padding: 1rem; text-align: left;">Fundamenta√ß√£o Normativa</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Estrutura F√≠sica</strong></td>
                            <td style="padding: 1rem;">Mofo/umidade, piso quebrado, infiltra√ß√µes</td>
                            <td style="padding: 1rem;">3 pontos cada</td>
                            <td style="padding: 1rem;">ABNT NBR 15575 (Desempenho) + ABNT NBR 5674 (Manuten√ß√£o)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Higiene e Limpeza</strong></td>
                            <td style="padding: 1rem;">Limpeza inadequada, mau cheiro</td>
                            <td style="padding: 1rem;">2 pontos cada</td>
                            <td style="padding: 1rem;">RDC ANVISA 216/2004 + Portaria MS 1.914/2014</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Conforto Ambiental</strong></td>
                            <td style="padding: 1rem;">Ilumina√ß√£o, ventila√ß√£o</td>
                            <td style="padding: 1rem;">1 ponto cada</td>
                            <td style="padding: 1rem;">NBR 15220 (Desempenho T√©rmico) + NBR 5413 (Ilumina√ß√£o)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Equipamentos Sanit√°rios</strong></td>
                            <td style="padding: 1rem;">Vasos, pias, torneiras</td>
                            <td style="padding: 1rem;">2-3 pontos</td>
                            <td style="padding: 1rem;">ABNT NBR 5626 (√Ågua) + NBR 8160 (Esgoto)</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;"><strong>Acessibilidade</strong></td>
                            <td style="padding: 1rem;">Banheiro acess√≠vel</td>
                            <td style="padding: 1rem;">4 pontos</td>
                            <td style="padding: 1rem;">NBR 9050 (Acessibilidade) + Lei 13.146/2015</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-sort-amount-down"></i> 2. Sistema de Classifica√ß√£o Detalhado</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Faixa de Pontos</th>
                            <th style="padding: 1rem; text-align: left;">Classifica√ß√£o</th>
                            <th style="padding: 1rem; text-align: left;">Significado T√©cnico</th>
                            <th style="padding: 1rem; text-align: left;">Implica√ß√µes para Gest√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">0-3 pontos</td>
                            <td style="padding: 1rem;"><span class="status-badge status-ok">Adequada</span></td>
                            <td style="padding: 1rem;">Condi√ß√µes dentro dos par√¢metros normativos</td>
                            <td style="padding: 1rem;">Manuten√ß√£o preventiva regular</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">4-6 pontos</td>
                            <td style="padding: 1rem;"><span class="status-badge status-alert">Alerta</span></td>
                            <td style="padding: 1rem;">Problemas menores que podem evoluir</td>
                            <td style="padding: 1rem;">A√ß√µes corretivas em 90 dias</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">7-8 pontos</td>
                            <td style="padding: 1rem;"><span class="status-badge status-atencao">Aten√ß√£o Elevada</span></td>
                            <td style="padding: 1rem;">Problemas significativos com risco sanit√°rio</td>
                            <td style="padding: 1rem;">Interven√ß√£o em 30 dias</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;">‚â•9 pontos</td>
                            <td style="padding: 1rem;"><span class="status-badge status-critical">Cr√≠tica</span></td>
                            <td style="padding: 1rem;">Risco imediato √† sa√∫de e seguran√ßa</td>
                            <td style="padding: 1rem;">Interven√ß√£o imediata (7 dias)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-calculator"></i> 3. C√°lculo do IPT - Exemplo Pr√°tico</h3>
                
                <p><strong>Cen√°rio:</strong> Escola Municipal Exemplo</p>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-thermometer-half"></i> Status Atual</h4>
                        <p><span class="status-badge status-atencao">Aten√ß√£o Elevada</span></p>
                        <p><strong>GS = 3</strong> (Aten√ß√£o = 3)</p>
                    </div>
                    <div class="impact-card">
                        <h4><i class="fas fa-chart-bar"></i> Pontua√ß√£o T√©cnica</h4>
                        <p>8 pontos no checklist</p>
                        <p><strong>IT = 3</strong> (8 √∑ 3 = 2.67 ‚âà 3)</p>
                    </div>
                    <div class="impact-card">
                        <h4><i class="fas fa-history"></i> Hist√≥rico</h4>
                        <p>3 avalia√ß√µes anteriores</p>
                        <p><strong>RT = 3</strong></p>
                    </div>
                </div>
                
                <div class="equacao">
                    IPT = (3 √ó 0,4) + (3 √ó 0,4) + (3 √ó 0,2) = 3,0
                </div>
                
                <div class="success-box">
                    <strong><i class="fas fa-calculator"></i> INTERPRETA√á√ÉO:</strong> IPT = 3.0 ‚Üí Escola classificada como 
                    <span class="status-badge status-atencao">Alta Prioridade</span>, necessitando interven√ß√£o t√©cnica em at√© 30 dias.
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-map-marked-alt"></i> 4. Metodologia de An√°lise Espacial</h3>
                
                <div class="decision-flow">
                    <div class="flow-step">
                        <strong>ETAPA 1: Georreferenciamento</strong><br>
                        Localiza√ß√£o exata de cada escola no sistema WGS84 (lat/long)
                    </div>
                    
                    <div class="flow-step">
                        <strong>ETAPA 2: Tesselagem Territorial</strong><br>
                        Divis√£o do munic√≠pio em c√©lulas regulares (grid de 1km¬≤) ou uso de bairros oficiais
                    </div>
                    
                    <div class="flow-step">
                        <strong>ETAPA 3: Agrega√ß√£o por Territ√≥rio</strong><br>
                        C√°lculo dos indicadores (IPT, densidade cr√≠tica, concentra√ß√£o relativa) para cada c√©lula/bairro
                    </div>
                    
                    <div class="flow-step">
                        <strong>ETAPA 4: Classifica√ß√£o e Mapeamento</strong><br>
                        Aplica√ß√£o de crit√©rios multicrit√©rio para defini√ß√£o de zonas priorit√°rias
                    </div>
                </div>
            </div>
        </div>

        <!-- ABA 4: SISTEMA CHECKINFRA -->
        <div id="sistema" class="tab-content" role="tabpanel" aria-labelledby="sistema-tab">
            <h2><i class="fas fa-sitemap"></i> Sistema CheckInfra - Componentes Integrados
                <button class="bookmark-btn" data-section="sistema" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-layer-group"></i> Arquitetura Modular</h3>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-clipboard-check"></i> M√≥dulo de Avalia√ß√£o</h4>
                        <p><strong>Fun√ß√£o:</strong> Coleta padronizada de dados em campo</p>
                        <p><strong>Tecnologia:</strong> Formul√°rio web PWA (offline-capable)</p>
                        <p><strong>Sa√≠da:</strong> Pontua√ß√£o t√©cnica + classifica√ß√£o</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-chart-network"></i> M√≥dulo de An√°lise (Painel)</h4>
                        <p><strong>Fun√ß√£o:</strong> Processa dados em indicadores sint√©ticos</p>
                        <p><strong>Algoritmo:</strong> C√°lculo do IPT multicrit√©rio</p>
                        <p><strong>Sa√≠da:</strong> Ranking de prioridades + IPT m√©dio</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-map-marked-alt"></i> M√≥dulo Territorial (Mapa)</h4>
                        <p><strong>Fun√ß√£o:</strong> Visualiza padr√µes espaciais</p>
                        <p><strong>Tecnologia:</strong> Leaflet.js + OpenStreetMap</p>
                        <p><strong>Sa√≠da:</strong> Mapas de calor + zonas priorit√°rias</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-exchange-alt"></i> Fluxo de Dados Institucional</h3>
                
                <div class="decision-flow">
                    <div class="flow-step">
                        <strong>FASE 1: COLETA EM CAMPO</strong><br>
                        Avaliador preenche checklist t√©cnico + registra fotos no dispositivo m√≥vel
                    </div>
                    
                    <div class="flow-step">
                        <strong>FASE 2: PROCESSAMENTO LOCAL</strong><br>
                        Sistema calcula pontua√ß√£o (0-12) e classifica√ß√£o autom√°tica (OK, Alerta, Aten√ß√£o, Cr√≠tico)
                    </div>
                    
                    <div class="flow-step">
                        <strong>FASE 3: ARMAZENAMENTO</strong><br>
                        Dados enviados ao Firebase (online) ou salvos localmente (offline) com sincroniza√ß√£o posterior
                    </div>
                    
                    <div class="flow-step">
                        <strong>FASE 4: AN√ÅLISE T√âCNICA</strong><br>
                        C√°lculo do IPT para cada escola e agrega√ß√£o em indicadores territoriais
                    </div>
                    
                    <div class="flow-step">
                        <strong>FASE 5: VISUALIZA√á√ÉO</strong><br>
                        Mapas interativos + painel administrativo + relat√≥rios PDF institucionais
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-file-pdf"></i> Sistema de Relat√≥rios T√©cnicos</h3>
                
                <p><strong>Caracter√≠sticas do Relat√≥rio PDF Autom√°tico:</strong></p>
                <ul>
                    <li>Layout profissional com cart√µes coloridos por status</li>
                    <li>Incorpora√ß√£o autom√°tica de fotos documentais</li>
                    <li>Logomarca institucional do CheckInfra</li>
                    <li>Data e hora de gera√ß√£o autom√°tica</li>
                    <li>Aviso legal destacado sobre limita√ß√µes do diagn√≥stico</li>
                    <li>Nome do arquivo padronizado: <span class="highlight">CheckInfra-CI-2025-01-15-ABC123.pdf</span></li>
                </ul>
                
                <div class="info-box">
                    <strong><i class="fas fa-info-circle"></i> FUN√á√ÉO INSTITUCIONAL:</strong> O relat√≥rio PDF serve como 
                    <strong>documento de registro t√©cnico preliminar</strong> que pode ser anexado a processos 
                    administrativos, solicita√ß√µes de verba, ou compartilhado com √≥rg√£os de controle.
                </div>
            </div>
        </div>

        <!-- ABA 5: IMPACTO INSTITUCIONAL -->
        <div id="impacto" class="tab-content" role="tabpanel" aria-labelledby="impacto-tab">
            <h2><i class="fas fa-chart-network"></i> Impacto Institucional e Gest√£o P√∫blica
                <button class="bookmark-btn" data-section="impacto" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-balance-scale"></i> 1. Impacto no Microsistema (Escola)</h3>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-clipboard-list"></i> Diagn√≥stico Objetivo</h4>
                        <p>Substitui avalia√ß√µes subjetivas por crit√©rios t√©cnicos padronizados</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-history"></i> Hist√≥rico Documentado</h4>
                        <p>Registro temporal que permite acompanhar evolu√ß√£o das condi√ß√µes</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-file-contract"></i> Base para Solicita√ß√µes</h4>
                        <p>Documenta√ß√£o t√©cnica para pedidos de verba ou interven√ß√µes</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-shield-alt"></i> Transpar√™ncia</h4>
                        <p>Condi√ß√µes sanit√°rias documentadas e audit√°veis</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-city"></i> 2. Impacto no Macrossistema (Rede Municipal)</h3>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-sort-amount-down"></i> Prioriza√ß√£o T√©cnica</h4>
                        <p>Aloca√ß√£o de recursos baseada em crit√©rios objetivos (IPT)</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-map-marked-alt"></i> Leitura Territorial</h4>
                        <p>Identifica√ß√£o de padr√µes espaciais e desigualdades</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-chart-line"></i> Monitoramento Temporal</h4>
                        <p>Acompanhamento da evolu√ß√£o geral das condi√ß√µes</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-search-dollar"></i> Otimiza√ß√£o Or√ßament√°ria</h4>
                        <p>Foco em interven√ß√µes de maior impacto (Princ√≠pio de Pareto)</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-gavel"></i> 3. Impacto na Gest√£o P√∫blica</h3>
                
                <div class="decision-flow">
                    <div class="flow-step">
                        <strong>TRANSPAR√äNCIA ADMINISTRATIVA</strong><br>
                        Decis√µes de prioriza√ß√£o documentadas e justificadas tecnicamente
                    </div>
                    
                    <div class="flow-step">
                        <strong>CONTROLE SOCIAL</strong><br>
                        Dados acess√≠veis para conselhos, tribunais de contas, minist√©rio p√∫blico
                    </div>
                    
                    <div class="flow-step">
                        <strong>PLANEJAMENTO ESTRAT√âGICO</strong><br>
                        Base de dados para planos municipais de infraestrutura escolar
                    </div>
                    
                    <div class="flow-step">
                        <strong>INTEGRA√á√ÉO INTERSETORIAL</strong><br>
                        Interface entre educa√ß√£o, sa√∫de, obras e planejamento urbano
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-chart-pie"></i> 4. Indicadores de Desempenho Institucional</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Indicador</th>
                            <th style="padding: 1rem; text-align: left;">F√≥rmula</th>
                            <th style="padding: 1rem; text-align: left;">Interpreta√ß√£o</th>
                            <th style="padding: 1rem; text-align: left;">Meta Institucional</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>IPT M√©dio Municipal</strong></td>
                            <td style="padding: 1rem;">Œ£(IPT·µ¢) √∑ N</td>
                            <td style="padding: 1rem;">"Term√¥metro" da rede escolar</td>
                            <td style="padding: 1rem;">&lt; 2.0 (baixa criticidade)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Densidade Cr√≠tica</strong></td>
                            <td style="padding: 1rem;">N¬∫ cr√≠ticas √∑ √Årea</td>
                            <td style="padding: 1rem;">Intensidade espacial dos problemas</td>
                            <td style="padding: 1rem;">Redu√ß√£o anual de 10%</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Concentra√ß√£o Relativa M√°xima</strong></td>
                            <td style="padding: 1rem;">Max(CR·µ¢)</td>
                            <td style="padding: 1rem;">Desigualdade territorial</td>
                            <td style="padding: 1rem;">&lt; 1.5 (redu√ß√£o desigualdade)</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;"><strong>Cobertura do Sistema</strong></td>
                            <td style="padding: 1rem;">Escolas avaliadas √∑ Total</td>
                            <td style="padding: 1rem;">Abrag√™ncia do monitoramento</td>
                            <td style="padding: 1rem;">100% (todas escolas)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ABA 6: REFER√äNCIAS -->
        <div id="referencias" class="tab-content" role="tabpanel" aria-labelledby="referencias-tab">
            <h2><i class="fas fa-graduation-cap"></i> Refer√™ncias T√©cnicas e Bibliogr√°ficas
                <button class="bookmark-btn" data-section="referencias" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-file-contract"></i> Normas T√©cnicas Brasileiras</h3>
                
                <div class="reference-item">
                    <div class="authors">ABNT - Associa√ß√£o Brasileira de Normas T√©cnicas</div>
                    <div class="title">NBR 15575: Edifica√ß√µes Habitacionais ‚Äî Desempenho</div>
                    <p>Base para avalia√ß√£o de desempenho da edifica√ß√£o (2013)</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ABNT - Associa√ß√£o Brasileira de Normas T√©cnicas</div>
                    <div class="title">NBR 5626: Instala√ß√£o Predial de √Ågua Fria</div>
                    <p>Refer√™ncia para avalia√ß√£o de sistemas hidr√°ulicos (2020)</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ABNT - Associa√ß√£o Brasileira de Normas T√©cnicas</div>
                    <div class="title">NBR 9050: Acessibilidade a Edifica√ß√µes, Mobili√°rio, Espa√ßos e Equipamentos Urbanos</div>
                    <p>Base para avalia√ß√£o de banheiros acess√≠veis (2021)</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ABNT - Associa√ß√£o Brasileira de Normas T√©cnicas</div>
                    <div class="title">NBR 5674: Manuten√ß√£o de Edifica√ß√µes ‚Äî Requisitos para o Sistema de Gest√£o de Manuten√ß√£o</div>
                    <p>Refer√™ncia para sistema de manuten√ß√£o predial (2012)</p>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-book-medical"></i> Refer√™ncias Sanit√°rias e de Sa√∫de P√∫blica</h3>
                
                <div class="reference-item">
                    <div class="authors">WHO - World Health Organization</div>
                    <div class="title">Water, Sanitation and Hygiene in Schools: A companion to the Child Friendly Schools Manual (2018)</div>
                    <p>Padr√µes internacionais para WASH em escolas</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">UNICEF</div>
                    <div class="title">WASH in Schools Monitoring Package (2019)</div>
                    <p>Metodologia de monitoramento de saneamento escolar</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">Minist√©rio da Sa√∫de - Brasil</div>
                    <div class="title">Portaria MS 1.914/2014 - Diretrizes para a vigil√¢ncia, preven√ß√£o e controle da qualidade da √°gua para consumo humano</div>
                    <p>Legisla√ß√£o brasileira para condi√ß√µes sanit√°rias</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ANVISA - Ag√™ncia Nacional de Vigil√¢ncia Sanit√°ria</div>
                    <div class="title">RDC 216/2004 - Regulamento T√©cnico de Boas Pr√°ticas para Servi√ßos de Alimenta√ß√£o</div>
                    <p>Refer√™ncia para condi√ß√µes higi√™nico-sanit√°rias</p>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-chart-bar"></i> Refer√™ncias Metodol√≥gicas e de An√°lise Multicrit√©rio</h3>
                
                <div class="reference-item">
                    <div class="authors">SAATY, Thomas L.</div>
                    <div class="title">Decision Making with the Analytic Hierarchy Process (International Journal of Services Sciences, 2008)</div>
                    <p>Base para constru√ß√£o de indicadores multicrit√©rio</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">JURAN, Joseph M.</div>
                    <div class="title">Juran's Quality Control Handbook (5th Edition, 1999)</div>
                    <p>Aplica√ß√£o do Princ√≠pio de Pareto √† gest√£o da qualidade</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ISO - International Organization for Standardization</div>
                    <div class="title">ISO 31000: Risk Management ‚Äî Guidelines (2018)</div>
                    <p>Metodologia para gest√£o de riscos aplicada √† infraestrutura</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">KEENEY, R. L.; RAIFFA, H.</div>
                    <div class="title">Decisions with Multiple Objectives: Preferences and Value Trade-Offs (1993)</div>
                    <p>Fundamentos te√≥ricos da an√°lise multicrit√©rio</p>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-map-marked-alt"></i> Refer√™ncias de An√°lise Espacial e Planejamento Territorial</h3>
                
                <div class="reference-item">
                    <div class="authors">ANSELIN, Luc</div>
                    <div class="title">Spatial Econometrics: Methods and Models (1988)</div>
                    <p>Fundamentos de an√°lise espacial quantitativa</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">UN-HABITAT</div>
                    <div class="title">Urban Indicators Guidelines: Monitoring the Habitat Agenda and the Millennium Development Goals (2004)</div>
                    <p>Metodologia para indicadores urbanos territoriais</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">IBGE - Instituto Brasileiro de Geografia e Estat√≠stica</div>
                    <div class="title">Manual T√©cnico de Uso da Terra (2013)</div>
                    <p>Refer√™ncia para classifica√ß√£o territorial brasileira</p>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-book"></i> Refer√™ncias de Engenharia Civil e Manuten√ß√£o Predial</h3>
                
                <div class="reference-item">
                    <div class="authors">FUNASA - Funda√ß√£o Nacional de Sa√∫de</div>
                    <div class="title">Manual de Saneamento (4¬™ edi√ß√£o, 2015)</div>
                    <p>Refer√™ncia para saneamento b√°sico em edifica√ß√µes</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors">ASHRAE - American Society of Heating, Refrigerating and Air-Conditioning Engineers</div>
                    <div class="title">ASHRAE Handbook - HVAC Applications (2019)</div>
                    <p>Refer√™ncia para sistemas prediais</p>
                </div>
            </div>
        </div>

        <!-- ABA 7: MANUAL DO USU√ÅRIO -->
        <div id="manual-usuario" class="tab-content" role="tabpanel" aria-labelledby="manual-usuario-tab">
            <h2><i class="fas fa-users"></i> Manual do Usu√°rio - Guia Institucional
                <button class="bookmark-btn" data-section="manual-usuario" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-user-tie"></i> 1. Perfis de Usu√°rio Institucionais</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Perfil</th>
                            <th style="padding: 1rem; text-align: left;">Foco Principal</th>
                            <th style="padding: 1rem; text-align: left;">Indicadores-Chave</th>
                            <th style="padding: 1rem; text-align: left;">A√ß√µes T√≠picas</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Gestor Municipal</strong></td>
                            <td style="padding: 1rem;">Aloca√ß√£o de recursos</td>
                            <td style="padding: 1rem;">IPT m√©dio, Zonas Priorit√°rias</td>
                            <td style="padding: 1rem;">Planejamento or√ßament√°rio, defini√ß√£o de prioridades</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>T√©cnico da Secretaria</strong></td>
                            <td style="padding: 1rem;">Execu√ß√£o de interven√ß√µes</td>
                            <td style="padding: 1rem;">Ranking IPT, Problemas frequentes</td>
                            <td style="padding: 1rem;">Elabora√ß√£o de projetos, acompanhamento de obras</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;"><strong>Diretor Escolar</strong></td>
                            <td style="padding: 1rem;">Condi√ß√£o da pr√≥pria escola</td>
                            <td style="padding: 1rem;">Status, Pontua√ß√£o espec√≠fica</td>
                            <td style="padding: 1rem;">Solicita√ß√£o de reparos, manuten√ß√£o preventiva</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;"><strong>Auditor/Conselheiro</strong></td>
                            <td style="padding: 1rem;">Transpar√™ncia e conformidade</td>
                            <td style="padding: 1rem;">Evolu√ß√£o temporal, Distribui√ß√£o</td>
                            <td style="padding: 1rem;">Fiscaliza√ß√£o, controle social</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-question-circle"></i> 2. Perguntas Frequentes e Interpreta√ß√£o</h3>
                
                <div class="accordion-item">
                    <button class="accordion-header">
                        "O que significa IPT 3.2 para minha escola?"
                        <span>‚Ä∫</span>
                    </button>
                    <div class="accordion-content">
                        <p><strong>Interpreta√ß√£o:</strong> Sua escola est√° na faixa de ALTA PRIORIDADE (2.6-3.5). 
                        Significa que h√° problemas significativos que requerem interven√ß√£o t√©cnica planejada.</p>
                        <p><strong>A√ß√£o recomendada:</strong> Solicitar vistoria t√©cnica detalhada e elaborar projeto de interven√ß√£o.</p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <button class="accordion-header">
                        "Por que minha escola n√£o √© prioridade mesmo com problemas?"
                        <span>‚Ä∫</span>
                    </button>
                    <div class="accordion-content">
                        <p><strong>Interpreta√ß√£o:</strong> O sistema prioriza baseado em crit√©rios t√©cnicos comparativos. 
                        Outras escolas podem estar em situa√ß√£o pior ou o problema pode n√£o ser recorrente.</p>
                        <p><strong>A√ß√£o recomendada:</strong> Registrar todas as avalia√ß√µes para aumentar o componente RT (Recorr√™ncia).</p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <button class="accordion-header">
                        "Como interpretar o mapa de calor?"
                        <span>‚Ä∫</span>
                    </button>
                    <div class="accordion-content">
                        <p><strong>Interpreta√ß√£o:</strong> √Åreas vermelhas indicam alta concentra√ß√£o de problemas. 
                        N√£o significa que todas as escolas da √°rea t√™m problemas, mas que h√° uma densidade cr√≠tica elevada.</p>
                        <p><strong>A√ß√£o recomendada:</strong> Verificar escolas espec√≠ficas na √°rea e considerar interven√ß√µes integradas.</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-clipboard"></i> 3. Fluxo de Decis√£o Baseado no CheckInfra</h3>
                
                <div class="decision-flow">
                    <div class="flow-step">
                        <strong>PASSO 1: Consultar o ranking de IPT</strong><br>
                        Identificar as 20% escolas com maior criticidade (Princ√≠pio de Pareto)
                    </div>
                    
                    <div class="flow-step">
                        <strong>PASSO 2: Verificar localiza√ß√£o territorial</strong><br>
                        Cruzar com mapa de zonas priorit√°rias para a√ß√µes integradas
                    </div>
                    
                    <div class="flow-step">
                        <strong>PASSO 3: Analisar problemas espec√≠ficos</strong><br>
                        Verificar checklist detalhado para planejamento t√©cnico
                    </div>
                    
                    <div class="flow-step">
                        <strong>PASSO 4: Priorizar por custo-benef√≠cio</strong><br>
                        Focar em problemas comuns a v√°rias escolas
                    </div>
                    
                    <div class="flow-step">
                        <strong>PASSO 5: Alocar recursos considerando or√ßamento</strong><br>
                        Distribuir verba conforme criticidade t√©cnica
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-exclamation-triangle"></i> 4. Limita√ß√µes e Cuidados Institucionais</h3>
                
                <div class="warning-box">
                    <strong>1. N√£o substitui laudo t√©cnico:</strong> O CheckInfra √© ferramenta de triagem, n√£o de diagn√≥stico final
                </div>
                
                <div class="warning-box">
                    <strong>2. Depende da qualidade dos dados:</strong> Resultados s√£o t√£o bons quanto as avalia√ß√µes de campo
                </div>
                
                <div class="warning-box">
                    <strong>3. Considerar contexto local:</strong> Fatores socioecon√¥micos podem influenciar resultados
                </div>
                
                <div class="warning-box">
                    <strong>4. Atualiza√ß√£o regular necess√°ria:</strong> Sistema requer alimenta√ß√£o cont√≠nua de dados
                </div>
            </div>
        </div>

        <!-- ABA 8: ARQUITETURA T√âCNICA -->
        <div id="arquitetura-tecnica" class="tab-content" role="tabpanel" aria-labelledby="arquitetura-tecnica-tab">
            <h2><i class="fas fa-code"></i> Arquitetura T√©cnica do Sistema
                <button class="bookmark-btn" data-section="arquitetura-tecnica" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-layer-group"></i> 1. Stack Tecnol√≥gico</h3>
                
                <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 1.5rem 0;">
                    <span style="display: inline-block; padding: 8px 16px; background: #e3f2fd; color: #1976d2; border-radius: 20px; font-weight: 500;">HTML5 + CSS3 + JavaScript ES6</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #f3e5f5; color: #7b1fa2; border-radius: 20px; font-weight: 500;">PWA (Progressive Web App)</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #e8f5e8; color: #388e3c; border-radius: 20px; font-weight: 500;">Firebase Firestore</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #fff3e0; color: #f57c00; border-radius: 20px; font-weight: 500;">Leaflet.js + OpenStreetMap</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #fce4ec; color: #c2185b; border-radius: 20px; font-weight: 500;">jsPDF + html2canvas</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #e0f2f1; color: #00796b; border-radius: 20px; font-weight: 500;">Service Worker</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #f5f5f5; color: #616161; border-radius: 20px; font-weight: 500;">IndexedDB / localStorage</span>
                    <span style="display: inline-block; padding: 8px 16px; background: #e8eaf6; color: #303f9f; border-radius: 20px; font-weight: 500;">Turf.js (an√°lise espacial)</span>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-sitemap"></i> 2. Estrutura de Arquivos</h3>
                
                <div style="background: #1e1e1e; color: #d4d4d4; padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0; font-family: 'Courier New', monospace; font-size: 0.9rem; overflow-x: auto;">
                    <span style="color: #6A9955;"># ESTRUTURA PRINCIPAL DO PROJETO</span><br>
                    checkinfra/<br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">index.html</span>           <span style="color: #6A9955;"># Mapa sanit√°rio principal</span><br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">avaliacao.html</span>       <span style="color: #6A9955;"># Formul√°rio de avalia√ß√£o</span><br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">avaliacao.js</span>         <span style="color: #6A9955;"># L√≥gica completa da avalia√ß√£o</span><br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">painel/</span>              <span style="color: #6A9955;"># Dashboard administrativo</span><br>
                    ‚îÇ   ‚îú‚îÄ‚îÄ index.html<br>
                    ‚îÇ   ‚îî‚îÄ‚îÄ painel.js<br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">mapa/</span>                <span style="color: #6A9955;"># Componentes de mapas</span><br>
                    ‚îÇ   ‚îú‚îÄ‚îÄ mapa.js<br>
                    ‚îÇ   ‚îú‚îÄ‚îÄ escolas.js<br>
                    ‚îÇ   ‚îú‚îÄ‚îÄ mapabairros.js<br>
                    ‚îÇ   ‚îî‚îÄ‚îÄ NOMES.geojson<br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">service-worker.js</span>    <span style="color: #6A9955;"># PWA offline capabilities</span><br>
                    ‚îú‚îÄ‚îÄ <span style="color: #569CD6;">estilo.css</span>           <span style="color: #6A9955;"># Estilos principais</span><br>
                    ‚îî‚îÄ‚îÄ <span style="color: #569CD6;">manifest.json</span>        <span style="color: #6A9955;"># Configura√ß√£o PWA</span><br>
                </div>
            </div>
        </div>

        <!-- ABA 9: RECOMENDA√á√ïES T√âCNICAS -->
        <div id="recomendacoes" class="tab-content" role="tabpanel" aria-labelledby="recomendacoes-tab">
            <h2><i class="fas fa-tools"></i> Recomenda√ß√µes T√©cnicas e Manuten√ß√£o
                <button class="bookmark-btn" data-section="recomendacoes" aria-label="Marcar esta se√ß√£o como favorita">
                    <i class="far fa-bookmark"></i>
                </button>
            </h2>
            
            <div class="methodology-card">
                <h3><i class="fas fa-exclamation-triangle"></i> 1. Vulnerabilidades Identificadas</h3>
                
                <div class="danger-box">
                    <strong><i class="fas fa-shield-alt"></i> CR√çTICO: Chaves Firebase Expostas</strong><br>
                    Todas as chaves API est√£o hardcoded no c√≥digo fonte. 
                    <strong>Recomenda√ß√£o urgente:</strong> Mover para vari√°veis de ambiente ou configurar restri√ß√µes por dom√≠nio.
                </div>
                
                <div class="warning-box">
                    <strong><i class="fas fa-database"></i> ALERTA: Performance com Grandes Volumes</strong><br>
                    Sistema carrega todas avalia√ß√µes de uma vez. 
                    <strong>Recomenda√ß√£o:</strong> Implementar pagina√ß√£o ou limites na consulta.
                </div>
                
                <div class="info-box">
                    <strong><i class="fas fa-images"></i> ATEN√á√ÉO: Tamanho de PDFs com Fotos</strong><br>
                    Imagens em Base64 podem gerar PDFs muito grandes. 
                    <strong>Recomenda√ß√£o:</strong> Implementar compress√£o antes da convers√£o.
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-wrench"></i> 2. Melhorias de Performance Recomendadas</h3>
                
                <div class="impact-grid">
                    <div class="impact-card">
                        <h4><i class="fas fa-compress-arrows-alt"></i> Compress√£o de Imagens</h4>
                        <p>Reduzir tamanho das fotos antes do PDF</p>
                        <p><strong>Tecnologia:</strong> Canvas API + redimensionamento</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-layer-group"></i> Clusteriza√ß√£o no Mapa</h4>
                        <p>Agrupar marcadores quando zoomed out</p>
                        <p><strong>Biblioteca:</strong> Leaflet.markercluster</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-database"></i> Cache Local</h4>
                        <p>Armazenar dados frequentemente acessados</p>
                        <p><strong>Tecnologia:</strong> IndexedDB para dados estruturados</p>
                    </div>
                    
                    <div class="impact-card">
                        <h4><i class="fas fa-sync-alt"></i> Lazy Loading</h4>
                        <p>Carregar dados sob demanda</p>
                        <p><strong>Aplica√ß√£o:</strong> Mapas e listas grandes</p>
                    </div>
                </div>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-shield-alt"></i> 3. Seguran√ßa - Plano de A√ß√£o</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Item</th>
                            <th style="padding: 1rem; text-align: left;">Prioridade</th>
                            <th style="padding: 1rem; text-align: left;">A√ß√£o Recomendada</th>
                            <th style="padding: 1rem; text-align: left;">Prazo</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Chaves Firebase expostas</td>
                            <td style="padding: 1rem;"><span class="status-badge status-critical">CR√çTICA</span></td>
                            <td style="padding: 1rem;">Restringir por dom√≠nio no Console Firebase</td>
                            <td style="padding: 1rem;">Imediato</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Regras de seguran√ßa Firestore</td>
                            <td style="padding: 1rem;"><span class="status-badge status-atencao">ALTA</span></td>
                            <td style="padding: 1rem;">Implementar regras de leitura/escrita</td>
                            <td style="padding: 1rem;">7 dias</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Autentica√ß√£o b√°sica</td>
                            <td style="padding: 1rem;"><span class="status-badge status-alert">M√âDIA</span></td>
                            <td style="padding: 1rem;">Login por usu√°rio/senha ou Google Auth</td>
                            <td style="padding: 1rem;">30 dias</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;">HTTPS obrigat√≥rio</td>
                            <td style="padding: 1rem;"><span class="status-badge status-ok">OK</span></td>
                            <td style="padding: 1rem;">J√° implementado via Firebase Hosting</td>
                            <td style="padding: 1rem;">Conclu√≠do</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="methodology-card">
                <h3><i class="fas fa-calendar-alt"></i> 4. Cronograma de Manuten√ß√£o T√©cnica</h3>
                
                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white;">
                            <th style="padding: 1rem; text-align: left;">Atividade</th>
                            <th style="padding: 1rem; text-align: left;">Frequ√™ncia</th>
                            <th style="padding: 1rem; text-align: left;">Respons√°vel</th>
                            <th style="padding: 1rem; text-align: left;">Tempo Estimado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Backup do Firestore</td>
                            <td style="padding: 1rem;">Mensal</td>
                            <td style="padding: 1rem;">Administrador</td>
                            <td style="padding: 1rem;">30 minutos</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Limpeza de dados pendentes</td>
                            <td style="padding: 1rem;">Semanal</td>
                            <td style="padding: 1rem;">Sistema autom√°tico</td>
                            <td style="padding: 1rem;">Autom√°tico</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 1rem;">Atualiza√ß√£o de escolas</td>
                            <td style="padding: 1rem;">Trimestral</td>
                            <td style="padding: 1rem;">T√©cnico municipal</td>
                            <td style="padding: 1rem;">2 horas</td>
                        </tr>
                        <tr>
                            <td style="padding: 1rem;">Revis√£o de seguran√ßa</td>
                            <td style="padding: 1rem;">Semestral</td>
                            <td style="padding: 1rem;">Equipe t√©cnica</td>
                            <td style="padding: 1rem;">4 horas</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- BOT√ÉO VOLTAR AO TOPO -->
    <button class="back-to-top" aria-label="Voltar ao topo da p√°gina">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- MODAL DE VERS√ïES -->
    <div class="modal" id="versionModal">
        <div class="modal-content">
            <button class="modal-close" aria-label="Fechar modal">&times;</button>
            <h3><i class="fas fa-history"></i> Hist√≥rico de Vers√µes</h3>
            
            <div style="margin: 1.5rem 0;">
                <div class="reference-item" style="background: #e8f5e9; border-left-color: #4CAF50;">
                    <div class="authors"><strong>Vers√£o 3.0</strong> - Janeiro 2025</div>
                    <div class="title">Manual T√©cnico-Institucional Completo</div>
                    <p>‚Ä¢ Adicionado sistema de busca integrado<br>
                       ‚Ä¢ Implementado sistema de favoritos/marcadores<br>
                       ‚Ä¢ Melhorias de acessibilidade (ARIA)<br>
                       ‚Ä¢ Modal de hist√≥rico de vers√µes<br>
                       ‚Ä¢ Op√ß√µes de exporta√ß√£o aprimoradas</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors"><strong>Vers√£o 2.5</strong> - Setembro 2024</div>
                    <div class="title">Atualiza√ß√£o Metodol√≥gica</div>
                    <p>‚Ä¢ Revis√£o completa das refer√™ncias t√©cnicas<br>
                       ‚Ä¢ Adicionada an√°lise de Pareto detalhada<br>
                       ‚Ä¢ Melhorias no c√°lculo do IPT</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors"><strong>Vers√£o 2.0</strong> - Maio 2024</div>
                    <div class="title">Expans√£o Institucional</div>
                    <p>‚Ä¢ Adicionado m√≥dulo de impacto institucional<br>
                       ‚Ä¢ Manual do usu√°rio completo<br>
                       ‚Ä¢ Recomenda√ß√µes t√©cnicas detalhadas</p>
                </div>
                
                <div class="reference-item">
                    <div class="authors"><strong>Vers√£o 1.0</strong> - Janeiro 2024</div>
                    <div class="title">Lan√ßamento Inicial</div>
                    <p>‚Ä¢ Sistema b√°sico de checklist t√©cnico<br>
                       ‚Ä¢ C√°lculo do IPT inicial<br>
                       ‚Ä¢ Mapa sanit√°rio b√°sico</p>
                </div>
            </div>
            
            <div class="info-box">
                <strong><i class="fas fa-info-circle"></i> Nota:</strong> Este manual √© atualizado regularmente com base em novas normas t√©cnicas e feedback dos usu√°rios.
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="./index.html" aria-label="Voltar para a p√°gina inicial do sistema"><i class="fas fa-home"></i> Voltar ao Sistema</a>
                <a href="./avaliacao.html" aria-label="Ir para p√°gina de nova avalia√ß√£o"><i class="fas fa-clipboard-check"></i> Nova Avalia√ß√£o</a>
                <a href="./painel/index.html" aria-label="Acessar o painel t√©cnico"><i class="fas fa-chart-bar"></i> Painel T√©cnico</a>
                <a href="./sobre.html" aria-label="Sobre o projeto CheckInfra"><i class="fas fa-info-circle"></i> Sobre o Projeto</a>
                <a href="./contato.html" aria-label="Entre em contato"><i class="fas fa-envelope"></i> Contato Institucional</a>
            </div>
            <p>¬© 2025 CheckInfra - Sistema de Diagn√≥stico Sanit√°rio Escolar</p>
            <p style="opacity: 0.8; font-size: 0.9rem; margin-top: 0.5rem;">
                Documento T√©cnico-Institucional v3.0 | Memorial Descritivo Completo | 
                Atualizado em Janeiro 2025
            </p>
            <p style="opacity: 0.6; font-size: 0.8rem; margin-top: 1rem;">
                <i class="fas fa-code"></i> Desenvolvido por estudantes de Engenharia Civil | 
                <i class="fas fa-graduation-cap"></i> Projeto acad√™mico em empreendedorismo
            </p>
        </div>
    </footer>

    <script>
        // Sistema de navega√ß√£o por abas
        document.addEventListener('DOMContentLoaded', function() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Fun√ß√£o para ativar uma aba espec√≠fica
            function activateTab(tabId) {
                // Remove classe active de todos os bot√µes e conte√∫dos
                tabBtns.forEach(b => {
                    b.classList.remove('active');
                    b.setAttribute('aria-selected', 'false');
                });
                tabContents.forEach(c => c.classList.remove('active'));
                
                // Ativa a aba clicada
                const activeBtn = document.querySelector(`[data-tab="${tabId}"]`);
                const activeContent = document.getElementById(tabId);
                
                if (activeBtn) {
                    activeBtn.classList.add('active');
                    activeBtn.setAttribute('aria-selected', 'true');
                }
                if (activeContent) activeContent.classList.add('active');
                
                // Salva a aba ativa no localStorage
                localStorage.setItem('activeTab', tabId);
                
                // Dispara evento personalizado
                document.dispatchEvent(new CustomEvent('tabChanged', { 
                    detail: { tabId: tabId } 
                }));
            }
            
            // Adiciona eventos aos bot√µes
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    activateTab(tabId);
                });
            });
            
            // Verifica se h√° uma aba salva no localStorage
            const savedTab = localStorage.getItem('activeTab') || 'apresentacao';
            activateTab(savedTab);
            
            // Sistema de accordion
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const isOpen = header.classList.contains('active');
                    
                    // Fecha todos os accordions da mesma aba
                    const parentTab = header.closest('.tab-content');
                    parentTab.querySelectorAll('.accordion-header').forEach(h => {
                        h.classList.remove('active');
                        h.nextElementSibling.style.maxHeight = null;
                    });
                    
                    // Abre o clicado
                    if (!isOpen) {
                        header.classList.add('active');
                        content.style.maxHeight = content.scrollHeight + 'px';
                    }
                });
            });
            
            // Sistema de impress√£o/exporta√ß√£o
            document.addEventListener('keydown', function(e) {
                // Ctrl+P para imprimir a aba atual
                if (e.ctrlKey && e.key === 'p') {
                    e.preventDefault();
                    printManual();
                }
            });
            
            // Bot√£o voltar ao topo
            const backToTopBtn = document.querySelector('.back-to-top');
            
            // Mostrar/ocultar bot√£o baseado na rolagem
            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    backToTopBtn.style.display = 'flex';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Inicializar accordions abertos na primeira aba
            setTimeout(() => {
                const firstAccordion = document.querySelector('.accordion-header');
                if (firstAccordion) {
                    firstAccordion.click();
                }
            }, 1000);
            
            // Inicializar sistemas adicionais
            initSearchSystem();
            initBookmarkSystem();
            initVersionModal();
            trackManualUsage();
        });
        
        // SISTEMA DE BUSCA
        function initSearchSystem() {
            const searchInput = document.getElementById('manual-search');
            const searchResults = document.getElementById('search-results');
            
            if (!searchInput || !searchResults) return;
            
            // √çndice de busca
            let searchIndex = [];
            
            // Construir √≠ndice de busca
            function buildSearchIndex() {
                searchIndex = [];
                
                document.querySelectorAll('.tab-content').forEach(tab => {
                    const tabId = tab.id;
                    const tabTitle = tab.querySelector('h2').textContent.replace('‚òÖ', '').trim();
                    
                    // Adicionar t√≠tulo da aba
                    searchIndex.push({
                        id: tabId,
                        type: 'tab',
                        title: tabTitle,
                        content: tabTitle,
                        element: tab
                    });
                    
                    // Adicionar subt√≠tulos (h3)
                    tab.querySelectorAll('h3').forEach(h3 => {
                        const content = h3.textContent.replace('‚òÖ', '').trim();
                        searchIndex.push({
                            id: tabId,
                            type: 'section',
                            title: content,
                            content: content,
                            element: h3.closest('.methodology-card') || h3
                        });
                    });
                    
                    // Adicionar par√°grafos importantes
                    tab.querySelectorAll('.methodology-card p').forEach((p, index) => {
                        const text = p.textContent.trim();
                        if (text.length > 50) { // S√≥ adicionar par√°grafos significativos
                            searchIndex.push({
                                id: tabId,
                                type: 'content',
                                title: `Conte√∫do - ${tabTitle.substring(0, 30)}...`,
                                content: text.substring(0, 200),
                                element: p
                            });
                        }
                    });
                });
            }
            
            // Realizar busca
            function performSearch(query) {
                if (query.length < 3) {
                    searchResults.style.display = 'none';
                    return;
                }
                
                const results = searchIndex.filter(item => {
                    return item.content.toLowerCase().includes(query.toLowerCase()) ||
                           item.title.toLowerCase().includes(query.toLowerCase());
                });
                
                displaySearchResults(results);
            }
            
            // Mostrar resultados
            function displaySearchResults(results) {
                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="search-result-item"><p>Nenhum resultado encontrado.</p></div>';
                    searchResults.style.display = 'block';
                    return;
                }
                
                searchResults.innerHTML = results.slice(0, 10).map(item => `
                    <div class="search-result-item" data-tab="${item.id}">
                        <h4>${item.title}</h4>
                        <p>${highlightText(item.content, searchInput.value)}...</p>
                        <small style="color: var(--primary);">Aba: ${getTabName(item.id)}</small>
                    </div>
                `).join('');
                
                searchResults.style.display = 'block';
                
                // Adicionar eventos aos resultados
                document.querySelectorAll('.search-result-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const tabId = this.getAttribute('data-tab');
                        activateTab(tabId);
                        searchResults.style.display = 'none';
                        searchInput.value = '';
                    });
                });
            }
            
            // Destacar texto nos resultados
            function highlightText(text, query) {
                const regex = new RegExp(`(${query})`, 'gi');
                return text.replace(regex, '<mark>$1</mark>');
            }
            
            // Obter nome da aba
            function getTabName(tabId) {
                const tabNames = {
                    'apresentacao': 'Apresenta√ß√£o',
                    'aspectos-gerais': 'Aspectos Gerais',
                    'metodologia': 'Metodologia T√©cnica',
                    'sistema': 'Sistema CheckInfra',
                    'impacto': 'Impacto Institucional',
                    'referencias': 'Refer√™ncias',
                    'manual-usuario': 'Manual do Usu√°rio',
                    'arquitetura-tecnica': 'Arquitetura T√©cnica',
                    'recomendacoes': 'Recomenda√ß√µes T√©cnicas'
                };
                return tabNames[tabId] || tabId;
            }
            
            // Event listeners
            searchInput.addEventListener('input', function(e) {
                performSearch(e.target.value);
            });
            
            searchInput.addEventListener('focus', function() {
                if (this.value.length >= 3) {
                    performSearch(this.value);
                }
            });
            
            // Fechar resultados ao clicar fora
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.style.display = 'none';
                }
            });
            
            // Construir √≠ndice inicial
            buildSearchIndex();
        }
        
        // SISTEMA DE FAVORITOS
        function initBookmarkSystem() {
            // Carregar favoritos do localStorage
            let bookmarks = JSON.parse(localStorage.getItem('checkinfra_bookmarks') || '[]');
            
            // Atualizar bot√µes de favorito
            function updateBookmarkButtons() {
                document.querySelectorAll('.bookmark-btn').forEach(btn => {
                    const section = btn.getAttribute('data-section');
                    const isBookmarked = bookmarks.includes(section);
                    
                    if (isBookmarked) {
                        btn.classList.add('active');
                        btn.innerHTML = '<i class="fas fa-bookmark"></i>';
                    } else {
                        btn.classList.remove('active');
                        btn.innerHTML = '<i class="far fa-bookmark"></i>';
                    }
                });
            }
            
            // Alternar favorito
            function toggleBookmark(section) {
                const index = bookmarks.indexOf(section);
                
                if (index === -1) {
                    bookmarks.push(section);
                } else {
                    bookmarks.splice(index, 1);
                }
                
                localStorage.setItem('checkinfra_bookmarks', JSON.stringify(bookmarks));
                updateBookmarkButtons();
                
                // Feedback visual
                const btn = document.querySelector(`.bookmark-btn[data-section="${section}"]`);
                if (btn) {
                    btn.style.transform = 'scale(1.3)';
                    setTimeout(() => {
                        btn.style.transform = 'scale(1)';
                    }, 300);
                }
            }
            
            // Adicionar eventos aos bot√µes
            document.querySelectorAll('.bookmark-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    toggleBookmark(section);
                });
            });
            
            // Atualizar inicialmente
            updateBookmarkButtons();
        }
        
        // Alternar visualiza√ß√£o de favoritos
        function toggleBookmarksView() {
            const bookmarks = JSON.parse(localStorage.getItem('checkinfra_bookmarks') || '[]');
            
            if (bookmarks.length === 0) {
                alert('Voc√™ ainda n√£o tem se√ß√µes favoritas!');
                return;
            }
            
            // Criar modal de favoritos
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'flex';
            
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="this.closest('.modal').style.display='none'">&times;</button>
                    <h3><i class="fas fa-bookmark"></i> Minhas Se√ß√µes Favoritas</h3>
                    <div style="margin: 1.5rem 0;">
                        ${bookmarks.map(section => `
                            <div class="search-result-item" style="cursor: pointer;" onclick="activateTab('${section}'); this.closest('.modal').style.display='none'">
                                <h4>${getTabName(section)}</h4>
                                <p>Clique para ir para esta se√ß√£o</p>
                            </div>
                        `).join('')}
                    </div>
                    <button class="export-btn" style="width: 100%; margin-top: 1rem;" onclick="clearAllBookmarks()">
                        <i class="fas fa-trash"></i> Limpar Todos os Favoritos
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Fechar ao clicar fora
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                }
            });
        }
        
        // Limpar todos os favoritos
        function clearAllBookmarks() {
            if (confirm('Tem certeza que deseja remover todos os favoritos?')) {
                localStorage.removeItem('checkinfra_bookmarks');
                document.querySelectorAll('.bookmark-btn').forEach(btn => {
                    btn.classList.remove('active');
                    btn.innerHTML = '<i class="far fa-bookmark"></i>';
                });
                
                const modal = document.querySelector('.modal:last-child');
                if (modal) modal.style.display = 'none';
                
                alert('Todos os favoritos foram removidos!');
            }
        }
        
        // MODAL DE VERS√ïES
        function initVersionModal() {
            const modal = document.getElementById('versionModal');
            const closeBtn = modal.querySelector('.modal-close');
            
            // Fechar modal
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });
            
            // Fechar ao clicar fora
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // Fechar com ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.style.display === 'flex') {
                    modal.style.display = 'none';
                }
            });
        }
        
        // Mostrar hist√≥rico de vers√µes
        function showVersionHistory() {
            const modal = document.getElementById('versionModal');
            modal.style.display = 'flex';
        }
        
        // EXPORTA√á√ÉO PDF
        function exportAsPDF() {
            const activeTab = document.querySelector('.tab-content.active');
            const tabTitle = activeTab.querySelector('h2').textContent.replace('‚òÖ', '').trim();
            
            // Criar janela de impress√£o personalizada
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                    <head>
                        <title>CheckInfra - ${tabTitle}</title>
                        <style>
                            body { 
                                font-family: 'Segoe UI', Arial, sans-serif; 
                                padding: 30px; 
                                line-height: 1.6;
                                color: #333;
                                max-width: 1200px;
                                margin: 0 auto;
                            }
                            h1 { 
                                color: #1f4fd8; 
                                border-bottom: 3px solid #1f4fd8;
                                padding-bottom: 10px;
                                margin-bottom: 25px;
                                text-align: center;
                            }
                            h2 { 
                                color: #163ca6; 
                                margin-top: 25px;
                                border-left: 4px solid #1f4fd8;
                                padding-left: 15px;
                            }
                            h3 { color: #1f4fd8; margin-top: 20px; }
                            .methodology-card {
                                background: #f8f9fa;
                                border-left: 5px solid #1f4fd8;
                                padding: 20px;
                                margin: 20px 0;
                                border-radius: 8px;
                                page-break-inside: avoid;
                            }
                            .equacao {
                                background: #f0f4ff;
                                border: 2px solid #d1dbff;
                                padding: 15px;
                                border-radius: 8px;
                                margin: 20px 0;
                                font-family: 'Courier New', monospace;
                                font-size: 1.2rem;
                                text-align: center;
                                color: #163ca6;
                            }
                            .info-box, .warning-box, .success-box, .danger-box {
                                padding: 15px;
                                margin: 20px 0;
                                border-radius: 6px;
                                border-left-width: 5px;
                                border-left-style: solid;
                            }
                            .info-box { background: #e3f2fd; border-left-color: #2196f3; }
                            .warning-box { background: #fff3e0; border-left-color: #ff9800; }
                            .success-box { background: #e8f5e9; border-left-color: #4caf50; }
                            .danger-box { background: #ffebee; border-left-color: #f44336; }
                            table {
                                width: 100%;
                                border-collapse: collapse;
                                margin: 20px 0;
                                page-break-inside: avoid;
                            }
                            th {
                                background: #1f4fd8;
                                color: white;
                                padding: 12px;
                                text-align: left;
                            }
                            td {
                                padding: 12px;
                                border-bottom: 1px solid #ddd;
                            }
                            @media print {
                                body { padding: 15px; }
                                .no-print { display: none; }
                            }
                            .footer {
                                margin-top: 40px;
                                padding-top: 20px;
                                border-top: 1px solid #ddd;
                                font-size: 12px;
                                color: #666;
                                text-align: center;
                            }
                            .highlight {
                                background: rgba(31, 79, 216, 0.1);
                                padding: 2px 5px;
                                border-radius: 3px;
                                font-weight: bold;
                            }
                        </style>
                    </head>
                    <body>
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h1 style="color: #1f4fd8; margin-bottom: 10px;">CheckInfra</h1>
                            <h2 style="color: #333; font-weight: normal; margin-bottom: 20px;">Manual T√©cnico-Institucional</h2>
                            <div style="color: #666; margin-bottom: 20px;">
                                <strong>Se√ß√£o:</strong> ${tabTitle}<br>
                                <strong>Gerado em:</strong> ${new Date().toLocaleDateString('pt-BR')} √†s ${new Date().toLocaleTimeString('pt-BR')}
                            </div>
                        </div>
                        ${activeTab.innerHTML.replace(/<button[^>]*>.*?<\/button>/g, '')}
                        <div class="footer">
                            ¬© 2025 CheckInfra - Sistema de Diagn√≥stico Sanit√°rio Escolar<br>
                            Documento t√©cnico institucional v3.0 - Uso interno<br>
                            Gerado automaticamente pelo sistema CheckInfra
                        </div>
                        <script>
                            window.onload = function() {
                                setTimeout(() => {
                                    window.print();
                                    setTimeout(() => {
                                        window.close();
                                    }, 500);
                                }, 1000);
                            };
                        <\/script>
                    </body>
                </html>
            `);
            printWindow.document.close();
        }
        
        // IMPRIMIR MANUAL
        function printManual() {
            window.print();
        }
        
        // ANALYTICS B√ÅSICO
        function trackManualUsage() {
            // Carregar estat√≠sticas existentes
            let stats = JSON.parse(localStorage.getItem('checkinfra_stats') || '{}');
            
            // Inicializar se necess√°rio
            if (!stats.tabViews) stats.tabViews = {};
            if (!stats.firstVisit) stats.firstVisit = new Date().toISOString();
            if (!stats.lastVisit) stats.lastVisit = new Date().toISOString();
            if (!stats.visitCount) stats.visitCount = 0;
            
            // Incrementar contagem de visitas
            stats.visitCount++;
            stats.lastVisit = new Date().toISOString();
            
            // Salvar estat√≠sticas
            localStorage.setItem('checkinfra_stats', JSON.stringify(stats));
            
            // Monitorar visualiza√ß√£o de abas
            document.addEventListener('tabChanged', function(e) {
                const tabId = e.detail.tabId;
                
                // Atualizar estat√≠sticas
                stats.tabViews[tabId] = (stats.tabViews[tabId] || 0) + 1;
                localStorage.setItem('checkinfra_stats', JSON.stringify(stats));
            });
            
            // Monitorar tempo de perman√™ncia
            let startTime = Date.now();
            let currentTab = localStorage.getItem('activeTab') || 'apresentacao';
            
            setInterval(() => {
                if (!stats.timeSpent) stats.timeSpent = {};
                
                const timeSpent = Math.round((Date.now() - startTime) / 1000);
                stats.timeSpent[currentTab] = (stats.timeSpent[currentTab] || 0) + timeSpent;
                
                startTime = Date.now();
                currentTab = localStorage.getItem('activeTab') || 'apresentacao';
                
                localStorage.setItem('checkinfra_stats', JSON.stringify(stats));
            }, 30000); // Atualizar a cada 30 segundos
        }
        
        // Fun√ß√£o auxiliar para obter nome da aba
        function getTabName(tabId) {
            const tabNames = {
                'apresentacao': 'Apresenta√ß√£o',
                'aspectos-gerais': 'Aspectos Gerais',
                'metodologia': 'Metodologia T√©cnica',
                'sistema': 'Sistema CheckInfra',
                'impacto': 'Impacto Institucional',
                'referencias': 'Refer√™ncias',
                'manual-usuario': 'Manual do Usu√°rio',
                'arquitetura-tecnica': 'Arquitetura T√©cnica',
                'recomendacoes': 'Recomenda√ß√µes T√©cnicas'
            };
            return tabNames[tabId] || tabId;
        }
        
        // Fun√ß√£o para ativar aba (dispon√≠vel globalmente)
        window.activateTab = function(tabId) {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-selected', 'false');
            });
            tabContents.forEach(c => c.classList.remove('active'));
            
            const activeBtn = document.querySelector(`[data-tab="${tabId}"]`);
            const activeContent = document.getElementById(tabId);
            
            if (activeBtn) {
                activeBtn.classList.add('active');
                activeBtn.setAttribute('aria-selected', 'true');
            }
            if (activeContent) activeContent.classList.add('active');
            
            localStorage.setItem('activeTab', tabId);
            
            document.dispatchEvent(new CustomEvent('tabChanged', { 
                detail: { tabId: tabId } 
            }));
        };
    </script>
</body>
</html>